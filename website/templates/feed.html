{% extends "base.html" %}
{% block title %}Feed{% endblock %}

{% block content %}
<div style="border: 1px solid #000; padding: 10px; margin-top: 10px; margin-bottom: 20px;">
    <form method="POST" action="{{ url_for('views.send_message') }}" style="margin-top: 10px;">
        <label for="recipient">Destinatary:</label>
        <input type="text" id="recipient" name="recipient" required style="width: 100%; padding: 5px;">
        <label for="content">Message:</label>
        <textarea id="content" name="content" required style="width: 100%; height: 200px; padding: 5px;"></textarea>
        <button type="submit" class="btn btn-primary btn-sm" style="padding: 5px 10px;">Send</button>
    </form>
</div>

<h2 style="margin-top: 10px;">Bandeja de Entrada</h2>
<div style="border: 1px solid #000; padding: 10px; margin-bottom: 20px;">
    <ul>
        {% for message in messages %}
            <li>
                <strong>From:</strong> {{ message.sender.username }} <br>
                <strong>Message:</strong> {{ message.content }} <br>
                <strong>Date:</strong> {{ message.timestamp }}
            </li>
        {% endfor %}
    </ul>
</div>

<h2 style="margin-top: 10px;">Outbox</h2>
<div style="border: 1px solid #000; padding: 10px;">
    <ul>
        {% for message in messages %}
            <li>
                <strong>To:</strong> {{ message.recipient.username }} <br>
                <strong>Messsage:</strong> {{ message.content }} <br>
                <strong>Date:</strong> {{ message.timestamp }}
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}